<!-- Join Volunteers Form -->
<section id="join-our-volunteers" class="py-12 text-center">
  <h2 class="text-3xl font-bold mb-6">Join Our Volunteers</h2>
  <form [formGroup]="volunteerForm" class="max-w-xl mx-auto px-4 sm:px-6">
    <!-- Full Name -->
    <div class="mb-4">
      <label for="fullName" class="block text-left font-semibold pb-2">
        Full Name <span class="text-red-500">*</span>
      </label>
      <input
        id="fullName"
        formControlName="fullName"
        type="text"
        class="w-full p-3 border border-gray-300 rounded-lg"
        placeholder="Enter your full name"
      />
      <div *ngIf="this.volunteerForm.get('fullName')?.invalid && this.volunteerForm.get('fullName')?.touched"
           class="text-red-500 text-sm">Full Name is required.</div>
    </div>

    <!-- Age and Gender (in the same line) -->
    <div class="mb-4 flex justify-between space-x-4">
      <!-- Age -->
      <div class="flex-1">
        <label for="age" class="block text-left font-semibold pb-2">
          Age <span class="text-red-500">*</span>
        </label>
        <input
          id="age"
          formControlName="age"
          type="number"
          class="w-full p-3 border border-gray-300 rounded-lg"
          placeholder="Enter your age"
        />
        <div *ngIf="this.volunteerForm.get('age')?.invalid && this.volunteerForm.get('age')?.touched"
             class="text-red-500 text-sm">Age is required.</div>
      </div>

      <!-- Gender -->
      <div class="flex-1">
        <label for="gender" class="block text-left font-semibold pb-2">
          Gender <span class="text-red-500">*</span>
        </label>
        <select id="gender" formControlName="gender" class="w-full p-3 border border-gray-300 rounded-lg">
          <option value="">Select Gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
        <div *ngIf="this.volunteerForm.get('gender')?.invalid && this.volunteerForm.get('gender')?.touched" class="text-red-500 text-sm">Gender is required.</div>
      </div>
    </div>

    <!-- Phone Number and Email (in the same line) -->
    <div class="mb-4 flex justify-between space-x-4">
      <!-- Phone Number -->
      <div class="flex-1">
        <label for="phone" class="block text-left font-semibold pb-2">
          Phone Number <span class="text-red-500">*</span>
        </label>
        <input
          id="phone"
          formControlName="phone"
          type="text"
          class="w-full p-3 border border-gray-300 rounded-lg"
          placeholder="Enter your phone number"
        />
        <div *ngIf="this.volunteerForm.get('phone')?.invalid && this.volunteerForm.get('phone')?.touched" class="text-red-500 text-sm">Phone number is required.</div>
      </div>

      <!-- Email -->
      <div class="flex-1">
        <label for="email" class="block text-left font-semibold pb-2">
          Email <span class="text-red-500">*</span>
        </label>
        <input
          id="email"
          formControlName="email"
          type="email"
          class="w-full p-3 border border-gray-300 rounded-lg"
          placeholder="Enter your email"
        />
        <div *ngIf="this.volunteerForm.get('email')?.invalid && this.volunteerForm.get('email')?.touched" class="text-red-500 text-sm">Email is required.</div>
      </div>
    </div>

    <!-- Student Checkbox -->
    <div class="mb-4 flex items-center">
      <input
        id="isStudent"
        formControlName="isStudent"
        type="checkbox"
        class="mr-2"
      />
      <label for="isStudent" class="font-semibold">Are you a student?</label>
    </div>

    <!-- School Field (conditionally shown) -->
    <div class="mb-4" *ngIf="this.volunteerForm.get('isStudent')?.value">
      <label for="school" class="block text-left font-semibold pb-2">
        School <span class="text-red-500">*</span>
      </label>
      <input
        id="school"
        formControlName="school"
        type="text"
        class="w-full p-3 border border-gray-300 rounded-lg"
        placeholder="Enter your school name"
      />
      <div *ngIf="this.volunteerForm.get('school')?.invalid && this.volunteerForm.get('school')?.touched"
           class="text-red-500 text-sm">School is required for students.</div>
    </div>

    <!-- Volunteer Preference -->
    <div class="mb-4">
      <label class="block text-left font-semibold pb-2">
        Volunteer Preference <span class="text-red-500">*</span>
      </label>
      <div class="flex flex-col items-start">
        <mat-checkbox
          [checked]="isPreferenceSelected('Rosh Hashana')"
          (change)="onPreferenceChange($event, 'Rosh Hashana')">
          Rosh Hashana
        </mat-checkbox>
        <mat-checkbox
          [checked]="isPreferenceSelected('Chanukah')"
          (change)="onPreferenceChange($event, 'Chanukah')">
          Chanukah
        </mat-checkbox>
        <mat-checkbox
          [checked]="isPreferenceSelected('Purim')"
          (change)="onPreferenceChange($event, 'Purim')">
          Purim
        </mat-checkbox>
        <mat-checkbox
          [checked]="isPreferenceSelected('Bi-weekly visits')"
          (change)="onPreferenceChange($event, 'Bi-weekly visits')">
          Bi-weekly visits
        </mat-checkbox>
      </div>
      <div *ngIf="this.volunteerForm.get('volunteerPreference')?.invalid && this.volunteerForm.get('volunteerPreference')?.touched"
           class="text-red-500 text-sm">Volunteer Preference is required.</div>
    </div>

    <!-- Follow-up Question -->
    <div *ngIf="isPreferenceSelected('Bi-weekly visits')" class="mt-4">
      <label class="block text-left font-semibold pb-2">
        What day(s) of the week are best for you?
      </label>
      <div class="flex flex-col items-start">
        <mat-checkbox
          *ngFor="let day of daysOfWeek"
          [checked]="selectedDays.includes(day)"
          (change)="toggleDaySelection(day, $event)">
          {{ day }}
        </mat-checkbox>
      </div>
    </div>

    <!-- Agreement Checkbox -->
    <div class="mb-4 flex items-center">
      <input
        id="agree"
        formControlName="agree"
        type="checkbox"
        class="mr-2"
      />
      <label for="agree" class="font-semibold">
        I agree to the terms and conditions listed below. <span class="text-red-500">*</span>
      </label>
      <div *ngIf="this.volunteerForm.get('agree')?.invalid && this.volunteerForm.get('agree')?.touched"
           class="text-red-500 text-sm">You must agree to the terms.</div>
    </div>

    <!-- Waiver Scroll Box (No label) -->
    <div class="mb-4">
      <textarea
        id="waiver"
        formControlName="waiver"
        rows="5"
        class="w-full p-3 border border-gray-300 rounded-lg"
        readonly
      >
        CARE (Connecting and Reaching Elderly) – Volunteer Terms and Agreement

        This Volunteer Terms and Agreement ("Agreement") is made between CARE (Connecting and Reaching Elderly) ("CARE," "we," "us," or "our") and the undersigned volunteer ("Volunteer," "you," or "your"). By participating in any volunteer activity with CARE, you agree to the terms below.

          1. Purpose of the Program
          CARE is a community initiative connecting volunteers of all ages with elderly citizens to promote companionship, engagement, and emotional well-being through visits and community support.

          2. Assumption of Risk and Release of Liability
          By signing this agreement and participating in CARE activities, you acknowledge and agree to the following:

          You understand that visiting elderly citizens in their homes, traveling to and from visit locations, or participating in any CARE-sponsored or affiliated activities involves certain risks, including but not limited to injury, property damage, illness, accidents, or unforeseen incidents.

          You voluntarily assume all risks associated with volunteering, including transportation (whether by private vehicle, public transit, or other means), personal interaction, and all activities related to or performed on behalf of CARE.

          You hereby release, waive, and discharge CARE, its officers, directors, coordinators, staff, affiliates, and partners from any and all liability, claims, demands, causes of action, or expenses (including attorney’s fees) arising out of or related to:

          Any personal injury, illness, or death;

          Any damage or loss to personal property;

          Any accident or incident occurring during or as a result of volunteering, including driving to and from volunteer assignments.

          3. Insurance Disclaimer
          CARE does not provide health, medical, automobile, or liability insurance for volunteers. Volunteers are encouraged to maintain their own insurance coverage.

          4. Volunteer Conduct and Responsibility
          Volunteers are expected to:

          Treat all elderly individuals and their environments with respect and dignity.

          Maintain confidentiality regarding any personal or sensitive information.

          Not offer medical advice, perform physical assistance (e.g., lifting or moving individuals), or provide personal care services unless specifically trained and authorized to do so.

          Follow all instructions, safety guidelines, and local laws while participating in CARE activities.

          CARE reserves the right to remove or disqualify any volunteer whose behavior is deemed unsafe, inappropriate, or inconsistent with CARE’s mission and values.

          5. Photo and Media Release
          By participating as a volunteer, you grant CARE and its affiliates the irrevocable right to take and use photographs, video, and/or audio recordings of you in connection with CARE activities for promotional, educational, and fundraising purposes. This includes use in print, digital, and social media platforms.

          You waive the right to inspect or approve the finished product wherein your likeness appears, and you release CARE from any claims related to the use of your image or voice, including any compensation or royalties.

          If you do not wish to be photographed or recorded, you must notify CARE in writing prior to participation.

          6. Acknowledgment and Acceptance
          By signing or electronically agreeing to this Agreement, you acknowledge that:

          You have read and understood this document in its entirety.

          You agree to abide by all CARE policies and expectations.

          You are participating voluntarily and at your own risk.

          You are either over the age of 18 or have obtained permission from a parent/guardian if under 18.
      </textarea>
    </div>

    <!-- Submit Button -->
    <button
      (click)="onSubmit()"
      type="button"
      [disabled]="volunteerForm.invalid"
      [ngClass]="{
    'bg-indigo-300 cursor-not-allowed': volunteerForm.invalid,
    'bg-indigo-600 hover:bg-indigo-700': volunteerForm.valid
  }"
      class="text-white py-3 px-6 rounded-full w-full focus:bg-indigo-800 transition-colors duration-200"
    >
      Submit
    </button>
  </form>
</section>
